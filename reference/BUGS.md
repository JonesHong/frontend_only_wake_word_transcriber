# Bug Tracking List

## 待修復問題 (Bugs to Fix)

最後更新：2025-01-09

---

## 🔴 高優先級 (High Priority)

### 1. Web Speech API 在批次模式中的問題
**問題描述：**
- Web Speech API 在檔案/錄音模式中無法正常運作
- Web Speech API 僅支援即時串流，不支援檔案上傳
- 開始錄音後沒有反應

**影響範圍：**
- 批次模式的 Web Speech API 選項
- 錄音轉譯功能

**建議解決方案：**
- 在批次模式中禁用 Web Speech API 選項
- 或實現一個包裝器，將檔案轉換為串流輸入
- 顯示明確的提示訊息說明 Web Speech API 的限制

---

### 2. 缺少轉譯排隊機制
**問題描述：**
- 當有檔案正在轉譯時，新上傳的檔案會影響當前顯示
- 多個檔案同時處理會相互干擾
- 缺少排隊和進度顯示

**影響範圍：**
- 批次檔案上傳
- 多檔案處理

**建議解決方案：**
- 實現任務排隊系統
- 添加進度指示器
- 顯示等待中的檔案數量
- 防止並發轉譯造成的顯示錯誤

---

### 3. 即時語音與批次模式的結果顯示衝突
**問題描述：**
- 即時語音模式的串流輸出會被檔案/錄音的轉譯結果影響
- 兩種模式共用相同的顯示區域
- 切換模式時結果互相覆蓋

**影響範圍：**
- 即時語音模式的結果顯示
- 批次模式的結果顯示
- 模式切換時的使用者體驗

**建議解決方案：**
- 分離兩種模式的結果顯示區域
- 各自維護獨立的狀態
- 切換模式時保留各自的結果

---

## 🟡 中優先級 (Medium Priority)

### 4. Whisper 模型檔案過大問題
**問題描述：**
- Whisper 模型檔案太大，全部被加入 .gitignore
- GitHub Pages 範例無法運行，因為缺少模型檔案
- 需要至少保留一個小型模型供演示使用

**影響範圍：**
- GitHub Pages 線上演示
- 新用戶體驗

**建議解決方案：**
- 保留 whisper-tiny 或 whisper-base-quantized 模型
- 使用 Git LFS 管理大型檔案
- 提供模型下載腳本
- 在 README 中說明如何獲取其他模型

**相關檔案：**
- `.gitignore`
- `models/` 目錄結構

---

### 5. 遠端模型載入失敗
**問題描述：**
- 遠端模型（從 Hugging Face）載入有問題
- 需要參考 @whisper-web/ 的實現方式

**影響範圍：**
- 遠端模型選項功能
- 首次使用體驗（無需預先下載模型）

**建議解決方案：**
- 研究 `reference/whisper-web/src/worker.js` 的實現
- 檢查 CORS 設定
- 正確處理模型路徑和 CDN 配置
- 實現模型快取機制

**參考資源：**
- `/reference/whisper-web/src/worker.js`
- `/reference/whisper-web/src/hooks/useTranscriber.ts`

---

## 🟢 低優先級 (Low Priority)

### 6. UI/UX 改進建議
- 添加更詳細的錯誤訊息
- 改進載入狀態的視覺回饋
- 優化移動裝置的響應式設計

### 7. 效能優化
- 實現 Web Worker 池以提高並發處理能力
- 優化大檔案的記憶體使用
- 添加取消轉譯的功能

---

## 📝 修復進度追蹤

| Bug # | 狀態 | 負責人 | 預計完成日期 | 備註 |
|-------|------|--------|--------------|------|
| 1 | 🔴 待修復 | - | - | 需要重新設計 Web Speech API 整合 |
| 2 | 🔴 待修復 | - | - | 需要實現任務排隊系統 |
| 3 | 🔴 待修復 | - | - | UI 結構需要調整 |
| 4 | 🟡 待修復 | - | - | 需要決定保留哪個模型 |
| 5 | 🟡 待修復 | - | - | 需要研究參考實現 |

---

## 🔧 技術債務 (Technical Debt)

1. **程式碼組織**
   - 部分模組過大，需要進一步拆分
   - 需要統一錯誤處理機制

2. **測試覆蓋**
   - 缺少單元測試
   - 需要端到端測試

3. **文檔完善**
   - API 文檔需要更新
   - 需要添加架構圖

---

## 💡 改進建議 (Enhancement Ideas)

1. **新功能**
   - 支援更多音訊格式
   - 添加字幕匯出功能
   - 實現即時翻譯

2. **使用者體驗**
   - 添加鍵盤快捷鍵
   - 實現拖放上傳優化
   - 添加使用教學

---

## 📌 備註

- 此文件會持續更新
- 修復 bug 時請更新對應的狀態
- 發現新問題請及時添加到此文件

---

*最後更新者：Claude Assistant*  
*更新時間：2025-08-10*